[32mINFO    [0m jubilant:_juju.py:237 cli: juju add-model --no-switch jubilant-f0c784c5
[32mINFO    [0m jubilant:_juju.py:237 cli: juju deploy --model jubilant-f0c784c5 ./ingress-configurator_amd64.charm ingress-configurator --base ubuntu@24.04
[32mINFO    [0m jubilant:_juju.py:237 cli: juju deploy --model jubilant-f0c784c5 haproxy haproxy --base ubuntu@24.04 --channel 2.8/edge --config external-hostname=haproxy.internal --revision 244
[32mINFO    [0m jubilant:_juju.py:237 cli: juju deploy --model jubilant-f0c784c5 self-signed-certificates self-signed-certificates --channel 1/stable --revision 263
[32mINFO    [0m jubilant:_juju.py:237 cli: juju integrate --model jubilant-f0c784c5 self-signed-certificates:certificates haproxy:certificates
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
+ .model.name = 'jubilant-f0c784c5'
+ .model.type = 'iaas'
+ .model.controller = 'github-pr-3a9c6-lxd'
+ .model.cloud = 'localhost'
+ .model.version = '3.6.11'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .machines['0'].juju_status.current = 'pending'
+ .machines['0'].instance_id = 'pending'
+ .machines['0'].machine_status.current = 'allocating'
+ .machines['0'].machine_status.message = 'Creating container'
+ .machines['0'].modification_status.current = 'idle'
+ .machines['0'].base.name = 'ubuntu'
+ .machines['0'].base.channel = '24.04'
+ .machines['0'].constraints = 'arch=amd64'
+ .machines['1'].juju_status.current = 'pending'
+ .machines['1'].instance_id = 'pending'
+ .machines['1'].machine_status.current = 'allocating'
+ .machines['1'].machine_status.message = 'Creating container'
+ .machines['1'].modification_status.current = 'idle'
+ .machines['1'].base.name = 'ubuntu'
+ .machines['1'].base.channel = '24.04'
+ .machines['1'].constraints = 'arch=amd64'
+ .machines['2'].juju_status.current = 'pending'
+ .machines['2'].instance_id = 'pending'
+ .machines['2'].machine_status.current = 'allocating'
+ .machines['2'].machine_status.message = 'Creating container'
+ .machines['2'].modification_status.current = 'idle'
+ .machines['2'].base.name = 'ubuntu'
+ .machines['2'].base.channel = '24.04'
+ .machines['2'].constraints = 'arch=amd64'
+ .apps['haproxy'].charm = 'haproxy'
+ .apps['haproxy'].charm_origin = 'charmhub'
+ .apps['haproxy'].charm_name = 'haproxy'
+ .apps['haproxy'].charm_rev = 244
+ .apps['haproxy'].exposed = False
+ .apps['haproxy'].base.name = 'ubuntu'
+ .apps['haproxy'].base.channel = '24.04'
+ .apps['haproxy'].charm_channel = '2.8/edge'
+ .apps['haproxy'].app_status.current = 'waiting'
+ .apps['haproxy'].app_status.message = 'waiting for machine'
+ .apps['haproxy'].relations['certificates'][0].related_app = 'self-signed-certificates'
+ .apps['haproxy'].relations['certificates'][0].interface = 'tls-certificates'
+ .apps['haproxy'].relations['certificates'][0].scope = 'global'
+ .apps['haproxy'].relations['haproxy-peers'][0].related_app = 'haproxy'
+ .apps['haproxy'].relations['haproxy-peers'][0].interface = 'haproxy-peers'
+ .apps['haproxy'].relations['haproxy-peers'][0].scope = 'global'
+ .apps['haproxy'].units['haproxy/0'].workload_status.current = 'waiting'
+ .apps['haproxy'].units['haproxy/0'].workload_status.message = 'waiting for machine'
+ .apps['haproxy'].units['haproxy/0'].juju_status.current = 'allocating'
+ .apps['haproxy'].units['haproxy/0'].machine = '1'
+ .apps['haproxy'].endpoint_bindings[''] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['certificates'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['cos-agent'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['ha'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['haproxy-peers'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['haproxy-route'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['haproxy-route-tcp'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['ingress-per-unit'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['receive-ca-certs'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['reverseproxy'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['website'] = 'alpha'
+ .apps['ingress-configurator'].charm = 'local:ingress-configurator-0'
+ .apps['ingress-configurator'].charm_origin = 'local'
+ .apps['ingress-configurator'].charm_name = 'ingress-configurator'
+ .apps['ingress-configurator'].charm_rev = 0
+ .apps['ingress-configurator'].exposed = False
+ .apps['ingress-configurator'].base.name = 'ubuntu'
+ .apps['ingress-configurator'].base.channel = '24.04'
+ .apps['ingress-configurator'].app_status.current = 'waiting'
+ .apps['ingress-configurator'].app_status.message = 'waiting for machine'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.current = 'waiting'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.message = 'waiting for machine'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.current = 'allocating'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].machine = '0'
+ .apps['ingress-configurator'].endpoint_bindings[''] = 'alpha'
+ .apps['ingress-configurator'].endpoint_bindings['haproxy-route'] = 'alpha'
+ .apps['ingress-configurator'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['self-signed-certificates'].charm = 'self-signed-certificates'
+ .apps['self-signed-certificates'].charm_origin = 'charmhub'
+ .apps['self-signed-certificates'].charm_name = 'self-signed-certificates'
+ .apps['self-signed-certificates'].charm_rev = 263
+ .apps['self-signed-certificates'].exposed = False
+ .apps['self-signed-certificates'].base.name = 'ubuntu'
+ .apps['self-signed-certificates'].base.channel = '24.04'
+ .apps['self-signed-certificates'].charm_channel = '1/stable'
+ .apps['self-signed-certificates'].app_status.current = 'waiting'
+ .apps['self-signed-certificates'].app_status.message = 'waiting for machine'
+ .apps['self-signed-certificates'].relations['certificates'][0].related_app = 'haproxy'
+ .apps['self-signed-certificates'].relations['certificates'][0].interface = 'tls-certificates'
+ .apps['self-signed-certificates'].relations['certificates'][0].scope = 'global'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'waiting'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'waiting for machine'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'allocating'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].machine = '2'
+ .apps['self-signed-certificates'].endpoint_bindings[''] = 'alpha'
+ .apps['self-signed-certificates'].endpoint_bindings['certificates'] = 'alpha'
+ .apps['self-signed-certificates'].endpoint_bindings['send-ca-cert'] = 'alpha'
+ .apps['self-signed-certificates'].endpoint_bindings['tracing'] = 'alpha'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['0'].instance_id = 'pending'
- .machines['0'].machine_status.current = 'allocating'
- .machines['0'].machine_status.message = 'Creating container'
- .machines['0'].modification_status.current = 'idle'
+ .machines['0'].instance_id = 'juju-e8478d-0'
+ .machines['0'].machine_status.current = 'running'
+ .machines['0'].machine_status.message = 'Container started'
+ .machines['0'].modification_status.current = 'applied'
+ .machines['0'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
+ .machines['0'].dns_name = '10.82.182.113'
+ .machines['0'].ip_addresses[0] = '10.82.182.113'
- .machines['0'].machine_status.message = 'Container started'
+ .machines['0'].machine_status.message = 'Running'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].public_address = '10.82.182.113'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['1'].instance_id = 'pending'
- .machines['1'].machine_status.current = 'allocating'
- .machines['1'].machine_status.message = 'Creating container'
- .machines['1'].modification_status.current = 'idle'
+ .machines['1'].instance_id = 'juju-e8478d-1'
+ .machines['1'].machine_status.current = 'running'
+ .machines['1'].machine_status.message = 'Container started'
+ .machines['1'].modification_status.current = 'applied'
+ .machines['1'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['2'].instance_id = 'pending'
- .machines['2'].machine_status.current = 'allocating'
- .machines['2'].machine_status.message = 'Creating container'
- .machines['2'].modification_status.current = 'idle'
+ .machines['2'].instance_id = 'juju-e8478d-2'
+ .machines['2'].machine_status.current = 'running'
+ .machines['2'].machine_status.message = 'Container started'
+ .machines['2'].modification_status.current = 'applied'
+ .machines['2'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
+ .machines['1'].dns_name = '10.82.182.102'
+ .machines['1'].ip_addresses[0] = '10.82.182.102'
- .machines['1'].machine_status.message = 'Container started'
+ .machines['1'].machine_status.message = 'Running'
+ .machines['2'].dns_name = '10.82.182.115'
+ .machines['2'].ip_addresses[0] = '10.82.182.115'
- .machines['2'].machine_status.message = 'Container started'
+ .machines['2'].machine_status.message = 'Running'
+ .apps['haproxy'].units['haproxy/0'].public_address = '10.82.182.102'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].public_address = '10.82.182.115'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['0'].juju_status.current = 'pending'
+ .machines['0'].juju_status.current = 'started'
+ .machines['0'].juju_status.version = '3.6.11'
+ .machines['0'].hostname = 'juju-e8478d-0'
+ .machines['0'].network_interfaces['eth0'].ip_addresses[0] = '10.82.182.113'
+ .machines['0'].network_interfaces['eth0'].mac_address = '00:16:3e:8b:44:67'
+ .machines['0'].network_interfaces['eth0'].is_up = True
+ .machines['0'].network_interfaces['eth0'].gateway = '10.82.182.1'
+ .machines['0'].network_interfaces['eth0'].space = 'alpha'
- .apps['ingress-configurator'].app_status.message = 'waiting for machine'
+ .apps['ingress-configurator'].app_status.message = 'agent initialising'
- .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.message = 'waiting for machine'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.message = 'agent initialising'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.version = '3.6.11'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].leader = True
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['ingress-configurator'].app_status.current = 'waiting'
- .apps['ingress-configurator'].app_status.message = 'agent initialising'
- .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.current = 'waiting'
- .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.message = 'agent initialising'
- .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.current = 'allocating'
+ .apps['ingress-configurator'].app_status.current = 'maintenance'
+ .apps['ingress-configurator'].app_status.message = 'installing charm software'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.current = 'maintenance'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.message = 'installing charm software'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.current = 'executing'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.message = 'running leader-elected hook'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['ingress-configurator'].app_status.current = 'maintenance'
- .apps['ingress-configurator'].app_status.message = 'installing charm software'
- .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.current = 'maintenance'
- .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.message = 'installing charm software'
+ .apps['ingress-configurator'].app_status.current = 'blocked'
+ .apps['ingress-configurator'].app_status.message = 'Missing haproxy-route relation.'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.current = 'blocked'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.message = 'Missing haproxy-route relation.'
- .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.message = 'running leader-elected hook'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.message = 'running start hook'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.current = 'executing'
- .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.message = 'running start hook'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['1'].juju_status.current = 'pending'
+ .machines['1'].juju_status.current = 'started'
+ .machines['1'].juju_status.version = '3.6.11'
+ .machines['1'].hostname = 'juju-e8478d-1'
+ .machines['1'].network_interfaces['eth0'].ip_addresses[0] = '10.82.182.102'
+ .machines['1'].network_interfaces['eth0'].mac_address = '00:16:3e:61:1a:73'
+ .machines['1'].network_interfaces['eth0'].is_up = True
+ .machines['1'].network_interfaces['eth0'].gateway = '10.82.182.1'
+ .machines['1'].network_interfaces['eth0'].space = 'alpha'
- .apps['haproxy'].app_status.message = 'waiting for machine'
+ .apps['haproxy'].app_status.message = 'agent initialising'
- .apps['haproxy'].units['haproxy/0'].workload_status.message = 'waiting for machine'
+ .apps['haproxy'].units['haproxy/0'].workload_status.message = 'agent initialising'
+ .apps['haproxy'].units['haproxy/0'].juju_status.version = '3.6.11'
+ .apps['haproxy'].units['haproxy/0'].leader = True
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['haproxy'].app_status.current = 'waiting'
- .apps['haproxy'].app_status.message = 'agent initialising'
+ .apps['haproxy'].app_status.current = 'maintenance'
+ .apps['haproxy'].app_status.message = 'installing charm software'
- .apps['haproxy'].units['haproxy/0'].workload_status.current = 'waiting'
- .apps['haproxy'].units['haproxy/0'].workload_status.message = 'agent initialising'
- .apps['haproxy'].units['haproxy/0'].juju_status.current = 'allocating'
+ .apps['haproxy'].units['haproxy/0'].workload_status.current = 'maintenance'
+ .apps['haproxy'].units['haproxy/0'].workload_status.message = 'installing charm software'
+ .apps['haproxy'].units['haproxy/0'].juju_status.current = 'executing'
+ .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running install hook'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['2'].juju_status.current = 'pending'
+ .machines['2'].juju_status.current = 'started'
+ .machines['2'].juju_status.version = '3.6.11'
+ .machines['2'].hostname = 'juju-e8478d-2'
+ .machines['2'].network_interfaces['eth0'].ip_addresses[0] = '10.82.182.115'
+ .machines['2'].network_interfaces['eth0'].mac_address = '00:16:3e:5a:4d:2e'
+ .machines['2'].network_interfaces['eth0'].is_up = True
+ .machines['2'].network_interfaces['eth0'].gateway = '10.82.182.1'
+ .machines['2'].network_interfaces['eth0'].space = 'alpha'
- .apps['self-signed-certificates'].app_status.message = 'waiting for machine'
+ .apps['self-signed-certificates'].app_status.message = 'agent initialising'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'waiting for machine'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'agent initialising'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.version = '3.6.11'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].leader = True
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['self-signed-certificates'].app_status.current = 'waiting'
- .apps['self-signed-certificates'].app_status.message = 'agent initialising'
+ .apps['self-signed-certificates'].app_status.current = 'maintenance'
+ .apps['self-signed-certificates'].app_status.message = 'installing charm software'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'waiting'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'agent initialising'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'allocating'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'maintenance'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'installing charm software'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'executing'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running install hook'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['haproxy'].app_status.current = 'maintenance'
- .apps['haproxy'].app_status.message = 'installing charm software'
+ .apps['haproxy'].app_status.current = 'active'
- .apps['haproxy'].units['haproxy/0'].workload_status.current = 'maintenance'
- .apps['haproxy'].units['haproxy/0'].workload_status.message = 'installing charm software'
+ .apps['haproxy'].units['haproxy/0'].workload_status.current = 'active'
- .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running install hook'
+ .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running certificates-relation-created hook'
+ .apps['haproxy'].units['haproxy/0'].open_ports[0] = '80/tcp'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running certificates-relation-created hook'
+ .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running haproxy-peers-relation-created hook'
- .apps['self-signed-certificates'].app_status.current = 'maintenance'
- .apps['self-signed-certificates'].app_status.message = 'installing charm software'
+ .apps['self-signed-certificates'].app_status.current = 'active'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'maintenance'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'installing charm software'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'active'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running install hook'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running leader-elected hook'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running haproxy-peers-relation-created hook'
+ .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running config-changed hook'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running leader-elected hook'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running config-changed hook'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running config-changed hook'
+ .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running start hook'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running config-changed hook'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running certificates-relation-joined hook for haproxy/0'
[32mINFO    [0m jubilant:_juju.py:237 cli: juju deploy --model jubilant-f0c784c5 any-charm ingress-requirer --channel beta --config 'src-overwrite={"any_charm.py": "# Copyright 2025 Canonical Ltd.\n# See LICENSE file for licensing details.\n\n# pylint: disable=duplicate-code,import-error\n# We use subprocess and subprocess.run to install apache\n# No external inputs is parsed, ignoring bandit errors with nosec\n\n\"\"\"Ingress requirer source.\"\"\"\n\nimport subprocess  # nosec\n\nimport ops\nfrom any_charm_base import AnyCharmBase  # type: ignore\nfrom ingress import IngressPerAppRequirer\n\n\nclass AnyCharm(AnyCharmBase):  # pylint: disable=too-few-public-methods\n    \"\"\"Ingress requirer charm src.\"\"\"\n\n    def __init__(self, *args, **kwargs):\n        \"\"\"Init.\n\n        Args:\n            args: args.\n            kwargs: kwargs.\n        \"\"\"\n        super().__init__(*args, **kwargs)\n        self.ingress = IngressPerAppRequirer(self, port=80)\n        self.unit.status = ops.BlockedStatus(\"Waiting for ingress relation\")\n        self.framework.observe(self.on.ingress_relation_changed, self._on_ingress_relation_changed)\n\n    def start_server(self):\n        \"\"\"Start apache2 webserver.\"\"\"\n        update = [\"apt-get\", \"update\", \"--error-on=any\"]\n        subprocess.run(update, capture_output=True, check=True)  # nosec\n        install = [\n            \"apt-get\",\n            \"install\",\n            \"-y\",\n            \"--option=Dpkg::Options::=--force-confold\",\n            \"apache2\",\n        ]\n        subprocess.run(install, capture_output=True, check=True)  # nosec\n\n    def _on_ingress_relation_changed(self, _: ops.ConfigChangedEvent):\n        \"\"\"Relation changed handler.\"\"\"\n        self.unit.status = ops.ActiveStatus(\"Server Ready\")\n", "ingress.py": "# Copyright 2024 Canonical Ltd.\n# See LICENSE file for licensing details.\n\nr\"\"\"# Interface Library for ingress.\n\nThis library wraps relation endpoints using the `ingress` interface\nand provides a Python API for both requesting and providing per-application\ningress, with load-balancing occurring across all units.\n\n## Getting Started\n\nTo get started using the library, you just need to fetch the library using `charmcraft`.\n\n```shell\ncd some-charm\ncharmcraft fetch-lib charms.traefik_k8s.v2.ingress\n```\n\nIn the `metadata.yaml` of the charm, add the following:\n\n```yaml\nrequires:\n    ingress:\n        interface: ingress\n        limit: 1\n```\n\nThen, to initialise the library:\n\n```python\nfrom charms.traefik_k8s.v2.ingress import (IngressPerAppRequirer,\n  IngressPerAppReadyEvent, IngressPerAppRevokedEvent)\n\nclass SomeCharm(CharmBase):\n  def __init__(self, *args):\n    # ...\n    self.ingress = IngressPerAppRequirer(self, port=80)\n    # The following event is triggered when the ingress URL to be used\n    # by this deployment of the `SomeCharm` is ready (or changes).\n    self.framework.observe(\n        self.ingress.on.ready, self._on_ingress_ready\n    )\n    self.framework.observe(\n        self.ingress.on.revoked, self._on_ingress_revoked\n    )\n\n    def _on_ingress_ready(self, event: IngressPerAppReadyEvent):\n        logger.info(\"This app'"'"'s ingress URL: %s\", event.url)\n\n    def _on_ingress_revoked(self, event: IngressPerAppRevokedEvent):\n        logger.info(\"This app no longer has ingress\")\n\"\"\"\nimport ipaddress\nimport json\nimport logging\nimport socket\nimport typing\nfrom dataclasses import dataclass\nfrom functools import partial\nfrom typing import (\n    Any,\n    Callable,\n    Dict,\n    List,\n    MutableMapping,\n    Optional,\n    Sequence,\n    Tuple,\n    Union,\n    cast,\n)\n\nimport pydantic\nfrom ops.charm import CharmBase, RelationBrokenEvent, RelationEvent\nfrom ops.framework import EventSource, Object, ObjectEvents, StoredState\nfrom ops.model import ModelError, Relation, Unit\nfrom pydantic import AnyHttpUrl, BaseModel, Field\n\n# The unique Charmhub library identifier, never change it\nLIBID = \"e6de2a5cd5b34422a204668f3b8f90d2\"\n\n# Increment this major API version when introducing breaking changes\nLIBAPI = 2\n\n# Increment this PATCH version before using `charmcraft publish-lib` or reset\n# to 0 if you are raising the major API version\nLIBPATCH = 17\n\nPYDEPS = [\"pydantic\"]\n\nDEFAULT_RELATION_NAME = \"ingress\"\nRELATION_INTERFACE = \"ingress\"\n\nlog = logging.getLogger(__name__)\nBUILTIN_JUJU_KEYS = {\"ingress-address\", \"private-address\", \"egress-subnets\"}\n\nPYDANTIC_IS_V1 = int(pydantic.version.VERSION.split(\".\")[0]) < 2\nif PYDANTIC_IS_V1:\n    from pydantic import validator\n\n    input_validator = partial(validator, pre=True)\n\n    class DatabagModel(BaseModel):  # type: ignore\n        \"\"\"Base databag model.\"\"\"\n\n        class Config:\n            \"\"\"Pydantic config.\"\"\"\n\n            allow_population_by_field_name = True\n            \"\"\"Allow instantiating this class by field name (instead of forcing alias).\"\"\"\n\n        _NEST_UNDER = None\n\n        @classmethod\n        def load(cls, databag: MutableMapping):\n            \"\"\"Load this model from a Juju databag.\"\"\"\n            if cls._NEST_UNDER:\n                return cls.parse_obj(json.loads(databag[cls._NEST_UNDER]))\n\n            try:\n                data = {\n                    k: json.loads(v)\n                    for k, v in databag.items()\n                    # Don'"'"'t attempt to parse model-external values\n                    if k in {f.alias for f in cls.__fields__.values()}  # type: ignore\n                }\n            except json.JSONDecodeError as e:\n                msg = f\"invalid databag contents: expecting json. {databag}\"\n                log.error(msg)\n                raise DataValidationError(msg) from e\n\n            try:\n                return cls.parse_raw(json.dumps(data))  # type: ignore\n            except pydantic.ValidationError as e:\n                msg = f\"failed to validate databag: {databag}\"\n                log.debug(msg, exc_info=True)\n                raise DataValidationError(msg) from e\n\n        def dump(self, databag: Optional[MutableMapping] = None, clear: bool = True):\n            \"\"\"Write the contents of this model to Juju databag.\n\n            :param databag: the databag to write the data to.\n            :param clear: ensure the databag is cleared before writing it.\n            \"\"\"\n            if clear and databag:\n                databag.clear()\n\n            if databag is None:\n                databag = {}\n\n            if self._NEST_UNDER:\n                databag[self._NEST_UNDER] = self.json(by_alias=True, exclude_defaults=True)\n                return databag\n\n            for key, value in self.dict(by_alias=True, exclude_defaults=True).items():  # type: ignore\n                databag[key] = json.dumps(value)\n\n            return databag\n\nelse:\n    from pydantic import ConfigDict, field_validator\n\n    input_validator = partial(field_validator, mode=\"before\")\n\n    class DatabagModel(BaseModel):\n        \"\"\"Base databag model.\"\"\"\n\n        model_config = ConfigDict(\n            # tolerate additional keys in databag\n            extra=\"ignore\",\n            # Allow instantiating this class by field name (instead of forcing alias).\n            populate_by_name=True,\n            # Custom config key: whether to nest the whole datastructure (as json)\n            # under a field or spread it out at the toplevel.\n            _NEST_UNDER=None,\n        )  # type: ignore\n        \"\"\"Pydantic config.\"\"\"\n\n        @classmethod\n        def load(cls, databag: MutableMapping):\n            \"\"\"Load this model from a Juju databag.\"\"\"\n            nest_under = cls.model_config.get(\"_NEST_UNDER\")\n            if nest_under:\n                return cls.model_validate(json.loads(databag[nest_under]))  # type: ignore\n\n            try:\n                data = {\n                    k: json.loads(v)\n                    for k, v in databag.items()\n                    # Don'"'"'t attempt to parse model-external values\n                    if k in {(f.alias or n) for n, f in cls.model_fields.items()}  # type: ignore\n                }\n            except json.JSONDecodeError as e:\n                msg = f\"invalid databag contents: expecting json. {databag}\"\n                log.error(msg)\n                raise DataValidationError(msg) from e\n\n            try:\n                return cls.model_validate_json(json.dumps(data))  # type: ignore\n            except pydantic.ValidationError as e:\n                msg = f\"failed to validate databag: {databag}\"\n                log.debug(msg, exc_info=True)\n                raise DataValidationError(msg) from e\n\n        def dump(self, databag: Optional[MutableMapping] = None, clear: bool = True):\n            \"\"\"Write the contents of this model to Juju databag.\n\n            :param databag: the databag to write the data to.\n            :param clear: ensure the databag is cleared before writing it.\n            \"\"\"\n            if clear and databag:\n                databag.clear()\n\n            if databag is None:\n                databag = {}\n            nest_under = self.model_config.get(\"_NEST_UNDER\")\n            if nest_under:\n                databag[nest_under] = self.model_dump_json(  # type: ignore\n                    by_alias=True,\n                    # skip keys whose values are default\n                    exclude_defaults=True,\n                )\n                return databag\n\n            dct = self.model_dump(mode=\"json\", by_alias=True, exclude_defaults=True)  # type: ignore\n            databag.update({k: json.dumps(v) for k, v in dct.items()})\n            return databag\n\n\n# todo: import these models from charm-relation-interfaces/ingress/v2 instead of redeclaring them\nclass IngressUrl(BaseModel):\n    \"\"\"Ingress url schema.\"\"\"\n\n    url: AnyHttpUrl\n\n\nclass IngressProviderAppData(DatabagModel):\n    \"\"\"Ingress application databag schema.\"\"\"\n\n    ingress: Optional[IngressUrl] = None\n\n\nclass ProviderSchema(BaseModel):\n    \"\"\"Provider schema for Ingress.\"\"\"\n\n    app: IngressProviderAppData\n\n\nclass IngressHealthCheck(BaseModel):\n    \"\"\"HealthCheck schema for Ingress.\"\"\"\n\n    path: str = Field(description=\"The health check endpoint path (required).\")\n    scheme: Optional[str] = Field(\n        default=None, description=\"Replaces the server URL scheme for the health check endpoint.\"\n    )\n    hostname: Optional[str] = Field(\n        default=None, description=\"Hostname to be set in the health check request.\"\n    )\n    port: Optional[int] = Field(\n        default=None, description=\"Replaces the server URL port for the health check endpoint.\"\n    )\n    interval: str = Field(default=\"30s\", description=\"Frequency of the health check calls.\")\n    timeout: str = Field(default=\"5s\", description=\"Maximum duration for a health check request.\")\n\n\nclass IngressRequirerAppData(DatabagModel):\n    \"\"\"Ingress requirer application databag model.\"\"\"\n\n    model: str = Field(description=\"The model the application is in.\")\n    name: str = Field(description=\"the name of the app requesting ingress.\")\n    port: int = Field(description=\"The port the app wishes to be exposed.\")\n    healthcheck_params: Optional[IngressHealthCheck] = Field(\n        default=None, description=\"Optional health check configuration for ingress.\"\n    )\n\n    # fields on top of vanilla '"'"'ingress'"'"' interface:\n    strip_prefix: Optional[bool] = Field(\n        default=False,\n        description=\"Whether to strip the prefix from the ingress url.\",\n        alias=\"strip-prefix\",\n    )\n    redirect_https: Optional[bool] = Field(\n        default=False,\n        description=\"Whether to redirect http traffic to https.\",\n        alias=\"redirect-https\",\n    )\n\n    scheme: Optional[str] = Field(\n        default=\"http\", description=\"What scheme to use in the generated ingress url\"\n    )\n\n    @input_validator(\"scheme\")\n    def validate_scheme(cls, scheme):  # noqa: N805  # pydantic wants '"'"'cls'"'"' as first arg\n        \"\"\"Validate scheme arg.\"\"\"\n        if scheme not in {\"http\", \"https\", \"h2c\"}:\n            raise ValueError(\"invalid scheme: should be one of `http|https|h2c`\")\n        return scheme\n\n    @input_validator(\"port\")\n    def validate_port(cls, port):  # noqa: N805  # pydantic wants '"'"'cls'"'"' as first arg\n        \"\"\"Validate port.\"\"\"\n        assert isinstance(port, int), type(port)\n        assert 0 < port < 65535, \"port out of TCP range\"\n        return port\n\n\nclass IngressRequirerUnitData(DatabagModel):\n    \"\"\"Ingress requirer unit databag model.\"\"\"\n\n    host: str = Field(description=\"Hostname at which the unit is reachable.\")\n    ip: Optional[str] = Field(\n        None,\n        description=\"IP at which the unit is reachable, \"\n        \"IP can only be None if the IP information can'"'"'t be retrieved from juju.\",\n    )\n\n    @input_validator(\"host\")\n    def validate_host(cls, host):  # noqa: N805  # pydantic wants '"'"'cls'"'"' as first arg\n        \"\"\"Validate host.\"\"\"\n        assert isinstance(host, str), type(host)\n        return host\n\n    @input_validator(\"ip\")\n    def validate_ip(cls, ip):  # noqa: N805  # pydantic wants '"'"'cls'"'"' as first arg\n        \"\"\"Validate ip.\"\"\"\n        if ip is None:\n            return None\n        if not isinstance(ip, str):\n            raise TypeError(f\"got ip of type {type(ip)} instead of expected str\")\n        try:\n            ipaddress.IPv4Address(ip)\n            return ip\n        except ipaddress.AddressValueError:\n            pass\n        try:\n            ipaddress.IPv6Address(ip)\n            return ip\n        except ipaddress.AddressValueError:\n            raise ValueError(f\"{ip!r} is not a valid ip address\")\n\n\nclass RequirerSchema(BaseModel):\n    \"\"\"Requirer schema for Ingress.\"\"\"\n\n    app: IngressRequirerAppData\n    unit: IngressRequirerUnitData\n\n\nclass IngressError(RuntimeError):\n    \"\"\"Base class for custom errors raised by this library.\"\"\"\n\n\nclass NotReadyError(IngressError):\n    \"\"\"Raised when a relation is not ready.\"\"\"\n\n\nclass DataValidationError(IngressError):\n    \"\"\"Raised when data validation fails on IPU relation data.\"\"\"\n\n\nclass _IngressPerAppBase(Object):\n    \"\"\"Base class for IngressPerUnit interface classes.\"\"\"\n\n    def __init__(self, charm: CharmBase, relation_name: str = DEFAULT_RELATION_NAME):\n        super().__init__(charm, relation_name)\n\n        self.charm: CharmBase = charm\n        self.relation_name = relation_name\n        self.app = self.charm.app\n        self.unit = self.charm.unit\n\n        observe = self.framework.observe\n        rel_events = charm.on[relation_name]\n        observe(rel_events.relation_created, self._handle_relation)\n        observe(rel_events.relation_joined, self._handle_relation)\n        observe(rel_events.relation_changed, self._handle_relation)\n        observe(rel_events.relation_departed, self._handle_relation)\n        observe(rel_events.relation_broken, self._handle_relation_broken)\n        observe(charm.on.leader_elected, self._handle_upgrade_or_leader)  # type: ignore\n        observe(charm.on.upgrade_charm, self._handle_upgrade_or_leader)  # type: ignore\n\n    @property\n    def relations(self):\n        \"\"\"The list of Relation instances associated with this endpoint.\"\"\"\n        return list(self.charm.model.relations[self.relation_name])\n\n    def _handle_relation(self, event):\n        \"\"\"Subclasses should implement this method to handle a relation update.\"\"\"\n        pass\n\n    def _handle_relation_broken(self, event):\n        \"\"\"Subclasses should implement this method to handle a relation breaking.\"\"\"\n        pass\n\n    def _handle_upgrade_or_leader(self, event):\n        \"\"\"Subclasses should implement this method to handle upgrades or leadership change.\"\"\"\n        pass\n\n\nclass _IPAEvent(RelationEvent):\n    __args__: Tuple[str, ...] = ()\n    __optional_kwargs__: Dict[str, Any] = {}\n\n    @classmethod\n    def __attrs__(cls):\n        return cls.__args__ + tuple(cls.__optional_kwargs__.keys())\n\n    def __init__(self, handle, relation, *args, **kwargs):\n        super().__init__(handle, relation)\n\n        if not len(self.__args__) == len(args):\n            raise TypeError(\"expected {} args, got {}\".format(len(self.__args__), len(args)))\n\n        for attr, obj in zip(self.__args__, args):\n            setattr(self, attr, obj)\n        for attr, default in self.__optional_kwargs__.items():\n            obj = kwargs.get(attr, default)\n            setattr(self, attr, obj)\n\n    def snapshot(self):\n        dct = super().snapshot()\n        for attr in self.__attrs__():\n            obj = getattr(self, attr)\n            try:\n                dct[attr] = obj\n            except ValueError as e:\n                raise ValueError(\n                    \"cannot automagically serialize {}: \"\n                    \"override this method and do it \"\n                    \"manually.\".format(obj)\n                ) from e\n\n        return dct\n\n    def restore(self, snapshot) -> None:\n        super().restore(snapshot)\n        for attr, obj in snapshot.items():\n            setattr(self, attr, obj)\n\n\nclass IngressPerAppDataProvidedEvent(_IPAEvent):\n    \"\"\"Event representing that ingress data has been provided for an app.\"\"\"\n\n    __args__ = (\"name\", \"model\", \"hosts\", \"strip_prefix\", \"redirect_https\")\n\n    if typing.TYPE_CHECKING:\n        name: Optional[str] = None\n        model: Optional[str] = None\n        # sequence of hostname, port dicts\n        hosts: Sequence[\"IngressRequirerUnitData\"] = ()\n        strip_prefix: bool = False\n        redirect_https: bool = False\n\n\nclass IngressPerAppDataRemovedEvent(RelationEvent):\n    \"\"\"Event representing that ingress data has been removed for an app.\"\"\"\n\n\nclass IngressPerAppEndpointsUpdatedEvent(RelationEvent):\n    \"\"\"Event representing that the proxied endpoints have been updated.\"\"\"\n\n\nclass IngressPerAppProviderEvents(ObjectEvents):\n    \"\"\"Container for IPA Provider events.\"\"\"\n\n    data_provided = EventSource(IngressPerAppDataProvidedEvent)\n    data_removed = EventSource(IngressPerAppDataRemovedEvent)\n    endpoints_updated = EventSource(IngressPerAppEndpointsUpdatedEvent)\n\n\n@dataclass\nclass IngressRequirerData:\n    \"\"\"Data exposed by the ingress requirer to the provider.\"\"\"\n\n    app: \"IngressRequirerAppData\"\n    units: List[\"IngressRequirerUnitData\"]\n\n\nclass IngressPerAppProvider(_IngressPerAppBase):\n    \"\"\"Implementation of the provider of ingress.\"\"\"\n\n    on = IngressPerAppProviderEvents()  # type: ignore\n\n    def __init__(\n        self,\n        charm: CharmBase,\n        relation_name: str = DEFAULT_RELATION_NAME,\n    ):\n        \"\"\"Constructor for IngressPerAppProvider.\n\n        Args:\n            charm: The charm that is instantiating the instance.\n            relation_name: The name of the relation endpoint to bind to\n                (defaults to \"ingress\").\n        \"\"\"\n        super().__init__(charm, relation_name)\n\n    def _handle_relation(self, event):\n        # created, joined or changed: if remote side has sent the required data:\n        # notify listeners.\n        if self.is_ready(event.relation):\n            data = self.get_data(event.relation)\n            self.on.data_provided.emit(  # type: ignore\n                event.relation,\n                data.app.name,\n                data.app.model,\n                [\n                    unit.dict() if PYDANTIC_IS_V1 else unit.model_dump(mode=\"json\")\n                    for unit in data.units\n                ],\n                data.app.strip_prefix or False,\n                data.app.redirect_https or False,\n            )\n\n    def _handle_relation_broken(self, event):\n        self.on.data_removed.emit(event.relation, event.relation.app)  # type: ignore\n\n    def wipe_ingress_data(self, relation: Relation):\n        \"\"\"Clear ingress data from relation.\"\"\"\n        assert self.unit.is_leader(), \"only leaders can do this\"\n        try:\n            relation.data\n        except ModelError as e:\n            log.warning(\n                \"error {} accessing relation data for {!r}. \"\n                \"Probably a ghost of a dead relation is still \"\n                \"lingering around.\".format(e, relation.name)\n            )\n            return\n        del relation.data[self.app][\"ingress\"]\n        self.on.endpoints_updated.emit(relation=relation, app=relation.app)\n\n    def _get_requirer_units_data(self, relation: Relation) -> List[\"IngressRequirerUnitData\"]:\n        \"\"\"Fetch and validate the requirer'"'"'s unit databag.\"\"\"\n        out: List[\"IngressRequirerUnitData\"] = []\n\n        unit: Unit\n        for unit in relation.units:\n            databag = relation.data[unit]\n            try:\n                data = IngressRequirerUnitData.load(databag)\n                out.append(data)\n            except pydantic.ValidationError:\n                log.info(f\"failed to validate remote unit data for {unit}\")\n                raise\n        return out\n\n    @staticmethod\n    def _get_requirer_app_data(relation: Relation) -> \"IngressRequirerAppData\":\n        \"\"\"Fetch and validate the requirer'"'"'s app databag.\"\"\"\n        app = relation.app\n        if app is None:\n            raise NotReadyError(relation)\n\n        databag = relation.data[app]\n        return IngressRequirerAppData.load(databag)\n\n    def get_data(self, relation: Relation) -> IngressRequirerData:\n        \"\"\"Fetch the remote (requirer) app and units'"'"' databags.\"\"\"\n        try:\n            return IngressRequirerData(\n                self._get_requirer_app_data(relation), self._get_requirer_units_data(relation)\n            )\n        except (pydantic.ValidationError, DataValidationError) as e:\n            raise DataValidationError(\n                \"failed to validate ingress requirer data: %s\" % str(e)\n            ) from e\n\n    def is_ready(self, relation: Optional[Relation] = None):\n        \"\"\"The Provider is ready if the requirer has sent valid data.\"\"\"\n        if not relation:\n            return any(map(self.is_ready, self.relations))\n\n        try:\n            self.get_data(relation)\n        except (DataValidationError, NotReadyError) as e:\n            log.info(\"Provider not ready; validation error encountered: %s\" % str(e))\n            return False\n        return True\n\n    def _published_url(self, relation: Relation) -> Optional[\"IngressProviderAppData\"]:\n        \"\"\"Fetch and validate this app databag; return the ingress url.\"\"\"\n        if not self.is_ready(relation) or not self.unit.is_leader():\n            # Handle edge case where remote app name can be missing, e.g.,\n            # relation_broken events.\n            # Also, only leader units can read own app databags.\n            # FIXME https://github.com/canonical/traefik-k8s-operator/issues/34\n            return None\n\n        # fetch the provider'"'"'s app databag\n        databag = relation.data[self.app]\n        if not databag.get(\"ingress\"):\n            raise NotReadyError(\"This application did not `publish_url` yet.\")\n\n        return IngressProviderAppData.load(databag)\n\n    def publish_url(self, relation: Relation, url: str):\n        \"\"\"Publish to the app databag the ingress url.\"\"\"\n        ingress_url = {\"url\": url}\n        try:\n            IngressProviderAppData(ingress=ingress_url).dump(relation.data[self.app])  # type: ignore\n            self.on.endpoints_updated.emit(relation=relation, app=relation.app)\n        except pydantic.ValidationError as e:\n            # If we cannot validate the url as valid, publish an empty databag and log the error.\n            log.error(f\"Failed to validate ingress url '"'"'{url}'"'"' - got ValidationError {e}\")\n            log.error(\n                \"url was not published to ingress relation for {relation.app}.  This error is likely due to an\"\n                \" error or misconfiguration of the charm calling this library.\"\n            )\n            IngressProviderAppData(ingress=None).dump(relation.data[self.app])  # type: ignore\n\n    @property\n    def proxied_endpoints(self) -> Dict[str, Dict[str, str]]:\n        \"\"\"Returns the ingress settings provided to applications by this IngressPerAppProvider.\n\n        For example, when this IngressPerAppProvider has provided the\n        `http://foo.bar/my-model.my-app` URL to the my-app application, the returned dictionary\n        will be:\n\n        ```\n        {\n            \"my-app\": {\n                \"url\": \"http://foo.bar/my-model.my-app\"\n            }\n        }\n        ```\n        \"\"\"\n        results: Dict[str, Dict[str, str]] = {}\n\n        for ingress_relation in self.relations:\n            if not ingress_relation.app:\n                log.warning(\n                    f\"no app in relation {ingress_relation} when fetching proxied endpoints: skipping\"\n                )\n                continue\n            try:\n                ingress_data = self._published_url(ingress_relation)\n            except NotReadyError:\n                log.warning(\n                    f\"no published url found in {ingress_relation}: \"\n                    f\"traefik didn'"'"'t publish_url yet to this relation.\"\n                )\n                continue\n\n            if not ingress_data:\n                log.warning(f\"relation {ingress_relation} not ready yet: try again in some time.\")\n                continue\n\n            # Validation above means ingress cannot be None, but type checker doesn'"'"'t know that.\n            ingress = ingress_data.ingress\n            ingress = cast(IngressProviderAppData, ingress)\n            if PYDANTIC_IS_V1:\n                results[ingress_relation.app.name] = ingress.dict()\n            else:\n                results[ingress_relation.app.name] = ingress.model_dump(mode=\"json\")\n        return results\n\n\nclass IngressPerAppReadyEvent(_IPAEvent):\n    \"\"\"Event representing that ingress for an app is ready.\"\"\"\n\n    __args__ = (\"url\",)\n    if typing.TYPE_CHECKING:\n        url: Optional[str] = None\n\n\nclass IngressPerAppRevokedEvent(RelationEvent):\n    \"\"\"Event representing that ingress for an app has been revoked.\"\"\"\n\n\nclass IngressPerAppRequirerEvents(ObjectEvents):\n    \"\"\"Container for IPA Requirer events.\"\"\"\n\n    ready = EventSource(IngressPerAppReadyEvent)\n    revoked = EventSource(IngressPerAppRevokedEvent)\n\n\nclass IngressPerAppRequirer(_IngressPerAppBase):\n    \"\"\"Implementation of the requirer of the ingress relation.\"\"\"\n\n    on = IngressPerAppRequirerEvents()  # type: ignore\n\n    # used to prevent spurious urls to be sent out if the event we'"'"'re currently\n    # handling is a relation-broken one.\n    _stored = StoredState()\n\n    def __init__(\n        self,\n        charm: CharmBase,\n        relation_name: str = DEFAULT_RELATION_NAME,\n        *,\n        host: Optional[str] = None,\n        ip: Optional[str] = None,\n        port: Optional[int] = None,\n        strip_prefix: bool = False,\n        redirect_https: bool = False,\n        # fixme: this is horrible UX.\n        #  shall we switch to manually calling provide_ingress_requirements with all args when ready?\n        scheme: Union[Callable[[], str], str] = lambda: \"http\",\n        healthcheck_params: Optional[Dict[str, Any]] = None,\n    ):\n        \"\"\"Constructor for IngressRequirer.\n\n        The request args can be used to specify the ingress properties when the\n        instance is created. If any are set, at least `port` is required, and\n        they will be sent to the ingress provider as soon as it is available.\n        All request args must be given as keyword args.\n\n        Args:\n            charm: The charm that is instantiating the library.\n            relation_name: The name of the relation endpoint to bind to (defaults to \"ingress\");\n                the relation must be of interface type \"ingress\" and have a limit of 1.\n            host: Hostname to be used by the ingress provider to address the requiring\n                application; if unspecified, the default Kubernetes service name will be used.\n            ip: Alternative addressing method other than host to be used by the ingress provider;\n                if unspecified, the binding address from the Juju network API will be used.\n            healthcheck_params: Optional dictionary containing health check\n                configuration parameters conforming to the IngressHealthCheck schema. The dictionary must include:\n                    - \"path\" (str): The health check endpoint path (required).\n                It may also include:\n                    - \"scheme\" (Optional[str]): Replaces the server URL scheme for the health check endpoint.\n                    - \"hostname\" (Optional[str]): Hostname to be set in the health check request.\n                    - \"port\" (Optional[int]): Replaces the server URL port for the health check endpoint.\n                    - \"interval\" (str): Frequency of the health check calls (defaults to \"30s\" if omitted).\n                    - \"timeout\" (str): Maximum duration for a health check request (defaults to \"5s\" if omitted).\n                If provided, \"path\" is required while \"interval\" and \"timeout\" will use Traefik'"'"'s defaults when not specified.\n            strip_prefix: Configure Traefik to strip the path prefix.\n            redirect_https: Redirect incoming requests to HTTPS.\n            scheme: Either a callable that returns the scheme to use when constructing the ingress URL,\n                or a string if the scheme is known and stable at charm initialization.\n\n        Request Args:\n            port: the port of the service\n        \"\"\"\n        super().__init__(charm, relation_name)\n        self.charm: CharmBase = charm\n        self.healthcheck_params = healthcheck_params\n        self.relation_name = relation_name\n        self._strip_prefix = strip_prefix\n        self._redirect_https = redirect_https\n        self._get_scheme = scheme if callable(scheme) else lambda: scheme\n\n        self._stored.set_default(current_url=None)  # type: ignore\n\n        # if instantiated with a port, and we are related, then\n        # we immediately publish our ingress data  to speed up the process.\n        if port:\n            self._auto_data = host, ip, port\n        else:\n            self._auto_data = None\n\n    def _handle_relation(self, event):\n        # created, joined or changed: if we have auto data: publish it\n        self._publish_auto_data()\n        if self.is_ready():\n            # Avoid spurious events, emit only when there is a NEW URL available\n            new_url = (\n                None\n                if isinstance(event, RelationBrokenEvent)\n                else self._get_url_from_relation_data()\n            )\n            if self._stored.current_url != new_url:  # type: ignore\n                self._stored.current_url = new_url  # type: ignore\n                self.on.ready.emit(event.relation, new_url)  # type: ignore\n\n    def _handle_relation_broken(self, event):\n        self._stored.current_url = None  # type: ignore\n        self.on.revoked.emit(relation=event.relation, app=event.relation.app)  # type: ignore\n\n    def _handle_upgrade_or_leader(self, event):\n        \"\"\"On upgrade/leadership change: ensure we publish the data we have.\"\"\"\n        self._publish_auto_data()\n\n    def is_ready(self):\n        \"\"\"The Requirer is ready if the Provider has sent valid data.\"\"\"\n        try:\n            return bool(self._get_url_from_relation_data())\n        except DataValidationError as e:\n            log.debug(\"Requirer not ready; validation error encountered: %s\" % str(e))\n            return False\n\n    def _publish_auto_data(self):\n        if self._auto_data:\n            host, ip, port = self._auto_data\n            self.provide_ingress_requirements(host=host, ip=ip, port=port)\n\n    def provide_ingress_requirements(\n        self,\n        *,\n        scheme: Optional[str] = None,\n        host: Optional[str] = None,\n        ip: Optional[str] = None,\n        port: int,\n    ):\n        \"\"\"Publishes the data that Traefik needs to provide ingress.\n\n        Args:\n            scheme: Scheme to be used; if unspecified, use the one used by __init__.\n            host: Hostname to be used by the ingress provider to address the\n             requirer unit; if unspecified, FQDN will be used instead\n            ip: Alternative addressing method other than host to be used by the ingress provider.\n                if unspecified, binding address from juju network API will be used.\n            port: the port of the service (required)\n        \"\"\"\n        for relation in self.relations:\n            self._provide_ingress_requirements(scheme, host, ip, port, relation)\n\n    def _provide_ingress_requirements(\n        self,\n        scheme: Optional[str],\n        host: Optional[str],\n        ip: Optional[str],\n        port: int,\n        relation: Relation,\n    ):\n        if self.unit.is_leader():\n            self._publish_app_data(scheme, port, relation)\n\n        self._publish_unit_data(host, ip, relation)\n\n    def _publish_unit_data(\n        self,\n        host: Optional[str],\n        ip: Optional[str],\n        relation: Relation,\n    ):\n        if not host:\n            host = socket.getfqdn()\n\n        if ip is None:\n            network_binding = self.charm.model.get_binding(relation)\n            if (\n                network_binding is not None\n                and (bind_address := network_binding.network.bind_address) is not None\n            ):\n                ip = str(bind_address)\n            else:\n                log.error(\"failed to retrieve ip information from juju\")\n\n        unit_databag = relation.data[self.unit]\n        try:\n            IngressRequirerUnitData(host=host, ip=ip).dump(unit_databag)\n        except pydantic.ValidationError as e:\n            msg = \"failed to validate unit data\"\n            log.info(msg, exc_info=True)  # log to INFO because this might be expected\n            raise DataValidationError(msg) from e\n\n    def _publish_app_data(\n        self,\n        scheme: Optional[str],\n        port: int,\n        relation: Relation,\n    ):\n        # assumes leadership!\n        app_databag = relation.data[self.app]\n\n        if not scheme:\n            # If scheme was not provided, use the one given to the constructor.\n            scheme = self._get_scheme()\n\n        try:\n            IngressRequirerAppData(  # type: ignore  # pyright does not like aliases\n                model=self.model.name,\n                name=self.app.name,\n                scheme=scheme,\n                port=port,\n                strip_prefix=self._strip_prefix,  # type: ignore  # pyright does not like aliases\n                redirect_https=self._redirect_https,  # type: ignore  # pyright does not like aliases\n                healthcheck_params=(\n                    IngressHealthCheck(**self.healthcheck_params)\n                    if self.healthcheck_params\n                    else None\n                ),\n            ).dump(app_databag)\n        except pydantic.ValidationError as e:\n            msg = \"failed to validate app data\"\n            log.info(msg, exc_info=True)  # log to INFO because this might be expected\n            raise DataValidationError(msg) from e\n\n    @property\n    def relation(self):\n        \"\"\"The established Relation instance, or None.\"\"\"\n        return self.relations[0] if self.relations else None\n\n    def _get_url_from_relation_data(self) -> Optional[str]:\n        \"\"\"The full ingress URL to reach the charm application.\n\n        Returns None if the URL isn'"'"'t available yet.\n        \"\"\"\n        relation = self.relation\n        if not relation or not relation.app:\n            return None\n\n        # fetch the provider'"'"'s app databag\n        try:\n            databag = relation.data[relation.app]\n        except ModelError as e:\n            log.debug(\n                f\"Error {e} attempting to read remote app data; \"\n                f\"probably we are in a relation_departed hook\"\n            )\n            return None\n\n        if not databag:  # not ready yet\n            return None\n\n        ingress = IngressProviderAppData.load(databag).ingress\n        if ingress is None:\n            return None\n\n        return str(ingress.url)\n\n    @property\n    def url(self) -> Optional[str]:\n        \"\"\"The full ingress URL to reach the charm application.\n\n        Returns None if the URL isn'"'"'t available yet.\n        \"\"\"\n        data = (\n            typing.cast(Optional[str], self._stored.current_url)  # type: ignore\n            or self._get_url_from_relation_data()\n        )\n        return data\n"}' --config python-packages=pydantic
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
+ .model.name = 'jubilant-f0c784c5'
+ .model.type = 'iaas'
+ .model.controller = 'github-pr-3a9c6-lxd'
+ .model.cloud = 'localhost'
+ .model.version = '3.6.11'
+ .model.region = 'localhost'
+ .model.model_status.current = 'available'
+ .machines['0'].juju_status.current = 'started'
+ .machines['0'].juju_status.version = '3.6.11'
+ .machines['0'].hostname = 'juju-e8478d-0'
+ .machines['0'].dns_name = '10.82.182.113'
+ .machines['0'].ip_addresses[0] = '10.82.182.113'
+ .machines['0'].instance_id = 'juju-e8478d-0'
+ .machines['0'].machine_status.current = 'running'
+ .machines['0'].machine_status.message = 'Running'
+ .machines['0'].modification_status.current = 'applied'
+ .machines['0'].base.name = 'ubuntu'
+ .machines['0'].base.channel = '24.04'
+ .machines['0'].network_interfaces['eth0'].ip_addresses[0] = '10.82.182.113'
+ .machines['0'].network_interfaces['eth0'].mac_address = '00:16:3e:8b:44:67'
+ .machines['0'].network_interfaces['eth0'].is_up = True
+ .machines['0'].network_interfaces['eth0'].gateway = '10.82.182.1'
+ .machines['0'].network_interfaces['eth0'].space = 'alpha'
+ .machines['0'].constraints = 'arch=amd64'
+ .machines['0'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container'
+ .machines['1'].juju_status.current = 'started'
+ .machines['1'].juju_status.version = '3.6.11'
+ .machines['1'].hostname = 'juju-e8478d-1'
+ .machines['1'].dns_name = '10.82.182.102'
+ .machines['1'].ip_addresses[0] = '10.82.182.102'
+ .machines['1'].instance_id = 'juju-e8478d-1'
+ .machines['1'].machine_status.current = 'running'
+ .machines['1'].machine_status.message = 'Running'
+ .machines['1'].modification_status.current = 'applied'
+ .machines['1'].base.name = 'ubuntu'
+ .machines['1'].base.channel = '24.04'
+ .machines['1'].network_interfaces['eth0'].ip_addresses[0] = '10.82.182.102'
+ .machines['1'].network_interfaces['eth0'].mac_address = '00:16:3e:61:1a:73'
+ .machines['1'].network_interfaces['eth0'].is_up = True
+ .machines['1'].network_interfaces['eth0'].gateway = '10.82.182.1'
+ .machines['1'].network_interfaces['eth0'].space = 'alpha'
+ .machines['1'].constraints = 'arch=amd64'
+ .machines['1'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container'
+ .machines['2'].juju_status.current = 'started'
+ .machines['2'].juju_status.version = '3.6.11'
+ .machines['2'].hostname = 'juju-e8478d-2'
+ .machines['2'].dns_name = '10.82.182.115'
+ .machines['2'].ip_addresses[0] = '10.82.182.115'
+ .machines['2'].instance_id = 'juju-e8478d-2'
+ .machines['2'].machine_status.current = 'running'
+ .machines['2'].machine_status.message = 'Running'
+ .machines['2'].modification_status.current = 'applied'
+ .machines['2'].base.name = 'ubuntu'
+ .machines['2'].base.channel = '24.04'
+ .machines['2'].network_interfaces['eth0'].ip_addresses[0] = '10.82.182.115'
+ .machines['2'].network_interfaces['eth0'].mac_address = '00:16:3e:5a:4d:2e'
+ .machines['2'].network_interfaces['eth0'].is_up = True
+ .machines['2'].network_interfaces['eth0'].gateway = '10.82.182.1'
+ .machines['2'].network_interfaces['eth0'].space = 'alpha'
+ .machines['2'].constraints = 'arch=amd64'
+ .machines['2'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container'
+ .machines['3'].juju_status.current = 'pending'
+ .machines['3'].instance_id = 'pending'
+ .machines['3'].machine_status.current = 'pending'
+ .machines['3'].modification_status.current = 'idle'
+ .machines['3'].base.name = 'ubuntu'
+ .machines['3'].base.channel = '22.04'
+ .machines['3'].constraints = 'arch=amd64'
+ .apps['haproxy'].charm = 'haproxy'
+ .apps['haproxy'].charm_origin = 'charmhub'
+ .apps['haproxy'].charm_name = 'haproxy'
+ .apps['haproxy'].charm_rev = 244
+ .apps['haproxy'].exposed = False
+ .apps['haproxy'].base.name = 'ubuntu'
+ .apps['haproxy'].base.channel = '24.04'
+ .apps['haproxy'].charm_channel = '2.8/edge'
+ .apps['haproxy'].app_status.current = 'maintenance'
+ .apps['haproxy'].app_status.message = 'Configuring haproxy.'
+ .apps['haproxy'].relations['certificates'][0].related_app = 'self-signed-certificates'
+ .apps['haproxy'].relations['certificates'][0].interface = 'tls-certificates'
+ .apps['haproxy'].relations['certificates'][0].scope = 'global'
+ .apps['haproxy'].relations['haproxy-peers'][0].related_app = 'haproxy'
+ .apps['haproxy'].relations['haproxy-peers'][0].interface = 'haproxy-peers'
+ .apps['haproxy'].relations['haproxy-peers'][0].scope = 'global'
+ .apps['haproxy'].units['haproxy/0'].workload_status.current = 'maintenance'
+ .apps['haproxy'].units['haproxy/0'].workload_status.message = 'Configuring haproxy.'
+ .apps['haproxy'].units['haproxy/0'].juju_status.current = 'executing'
+ .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running certificates-relation-changed hook for self-signed-certificates/0'
+ .apps['haproxy'].units['haproxy/0'].juju_status.version = '3.6.11'
+ .apps['haproxy'].units['haproxy/0'].leader = True
+ .apps['haproxy'].units['haproxy/0'].machine = '1'
+ .apps['haproxy'].units['haproxy/0'].open_ports[0] = '80/tcp'
+ .apps['haproxy'].units['haproxy/0'].public_address = '10.82.182.102'
+ .apps['haproxy'].endpoint_bindings[''] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['certificates'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['cos-agent'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['ha'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['haproxy-peers'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['haproxy-route'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['haproxy-route-tcp'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['ingress-per-unit'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['receive-ca-certs'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['reverseproxy'] = 'alpha'
+ .apps['haproxy'].endpoint_bindings['website'] = 'alpha'
+ .apps['ingress-configurator'].charm = 'local:ingress-configurator-0'
+ .apps['ingress-configurator'].charm_origin = 'local'
+ .apps['ingress-configurator'].charm_name = 'ingress-configurator'
+ .apps['ingress-configurator'].charm_rev = 0
+ .apps['ingress-configurator'].exposed = False
+ .apps['ingress-configurator'].base.name = 'ubuntu'
+ .apps['ingress-configurator'].base.channel = '24.04'
+ .apps['ingress-configurator'].app_status.current = 'blocked'
+ .apps['ingress-configurator'].app_status.message = 'Missing haproxy-route relation.'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.current = 'blocked'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].workload_status.message = 'Missing haproxy-route relation.'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.current = 'idle'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].juju_status.version = '3.6.11'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].leader = True
+ .apps['ingress-configurator'].units['ingress-configurator/0'].machine = '0'
+ .apps['ingress-configurator'].units['ingress-configurator/0'].public_address = '10.82.182.113'
+ .apps['ingress-configurator'].endpoint_bindings[''] = 'alpha'
+ .apps['ingress-configurator'].endpoint_bindings['haproxy-route'] = 'alpha'
+ .apps['ingress-configurator'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['ingress-requirer'].charm = 'any-charm'
+ .apps['ingress-requirer'].charm_origin = 'charmhub'
+ .apps['ingress-requirer'].charm_name = 'any-charm'
+ .apps['ingress-requirer'].charm_rev = 92
+ .apps['ingress-requirer'].exposed = False
+ .apps['ingress-requirer'].base.name = 'ubuntu'
+ .apps['ingress-requirer'].base.channel = '22.04'
+ .apps['ingress-requirer'].charm_channel = 'latest/beta'
+ .apps['ingress-requirer'].app_status.current = 'waiting'
+ .apps['ingress-requirer'].app_status.message = 'waiting for machine'
+ .apps['ingress-requirer'].relations['peer-any'][0].related_app = 'ingress-requirer'
+ .apps['ingress-requirer'].relations['peer-any'][0].interface = 'peer-any'
+ .apps['ingress-requirer'].relations['peer-any'][0].scope = 'global'
+ .apps['ingress-requirer'].units['ingress-requirer/0'].workload_status.current = 'waiting'
+ .apps['ingress-requirer'].units['ingress-requirer/0'].workload_status.message = 'waiting for machine'
+ .apps['ingress-requirer'].units['ingress-requirer/0'].juju_status.current = 'allocating'
+ .apps['ingress-requirer'].units['ingress-requirer/0'].machine = '3'
+ .apps['ingress-requirer'].endpoint_bindings[''] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['dns-record'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['ldap'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['nginx-route'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['peer-any'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-aar'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-agent-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-airbyte-server'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-alertmanager-dispatch'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-alertmanager-remote-configuration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-anbox-stream-gateway'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-any'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-apache-vhost-config'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-apache-website'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-arangodb'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-auth-proxy'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-autoscaling'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-aws-iam'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-aws-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-azure-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-barbican-hsm'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-barbican-secrets'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-baremetal'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-bgp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-bind-rndc'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-block-storage'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cassandra'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-catalogue'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceilometer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceph-admin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceph-bootstrap'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceph-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceph-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceph-iscsi-admin-access'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceph-mds'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceph-osd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceph-radosgw'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ceph-rbd-mirror'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-certificate-transfer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cinder'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cinder-backend'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cinder-backup'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cinder-ceph-key'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cinder-gw'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cinder-nedge'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cloudflared-route'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-config-server'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-container-runtime'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-containerd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-containers'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cos-agent'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-cos-k8s-tokens'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-dashboard-plugin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-db'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-db2'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-designate'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-dex-oidc-config'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-dns-record'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-dns-transfer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-docker-registry'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-dockerhost'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-elastic-beats'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-elasticsearch'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-elasticsearch-datastore'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ephemeral-backend'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-etcd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-etcd-proxy'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-event-service'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-external-cloud-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-external-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-fiveg-core-gnb'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-fiveg-n2'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-fluentbit'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-forward-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ftn-compiler'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-gcp-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-generic-ip-port-user-pass'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-giraph'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-glance'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-glance-backend'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-glance-simplestreams-sync'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-glauth-auxiliary'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-gnocchi'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-grafana-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-grafana-cloud-config'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-grafana-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-grafana-datasource'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-grafana-datasource-exchange'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-grafana-metadata'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-grafana-source'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-guacd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-hacluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-haproxy-route'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-heat-plugin-subordinate'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-http'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-http-proxy'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-httpd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-hydra-endpoints'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-influxdb-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-infoblox'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ingress'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ingress-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ingress-per-unit'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-irc-bridge'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-istio-gateway-info'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-java'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-jenkins-agent-v0'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-jenkins-extension'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-jenkins-slave'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-k8s-cluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-k8s-service'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-kafka'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-kafka-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-kapacitor'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-karma-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-keystone'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-keystone-admin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-keystone-credentials'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-keystone-domain-backend'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-keystone-fid-service-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-keystone-middleware'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-keystone-notifications'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-kratos-info'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-kube-control'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-kube-dns'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-kubeflow-dashboard-links'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-kubernetes-cni'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-kubernetes-info'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-landscape-hosted'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ldap'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-livepatch-pro-airgapped-server'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-lldp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-loadbalancer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-local-monitors'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-login-ui-endpoints'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-logs'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-logstash-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-loki-push-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-lte-core'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-lxd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-lxd-bgp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-lxd-dns'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-lxd-https'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-lxd-metrics'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-magma-orchestrator'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-manila-plugin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-matrix-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-memcache'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-midonet'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mongodb'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mongodb-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-monitor'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-monitors'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mount'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-munin-node'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mysql'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mysql-async'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mysql-async-replication'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mysql-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mysql-monitor'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mysql-root'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mysql-router'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-mysql-shared'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nats'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nedge'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-neutron-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-neutron-load-balancer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-neutron-plugin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-neutron-plugin-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-neutron-plugin-api-subordinate'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nginx-route'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nova'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nova-ceilometer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nova-cell'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nova-compute'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nova-vgpu'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nova-vmware'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nrpe'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-nrpe-external-master'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ntp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-oathkeeper-info'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-oauth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-object-storage'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-odl-controller-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-oidc-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-openfga'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-opensearch-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-openstack-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-openstack-loadbalancer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ovsdb'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ovsdb-cluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ovsdb-cms'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ovsdb-manager'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ovsdb-subordinate'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-pacemaker-remote'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-parca-scrape'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-parca-store'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-peer-cluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-pgsql'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-placement'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-pod-defaults'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-postfix-metrics'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-postgresql-async'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-postgresql-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-prolog-epilog'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-prometheus'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-prometheus-manual'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-prometheus-remote-write'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-prometheus-rules'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-prometheus-scrape'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-public-address'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-quantum'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-rabbitmq'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-radosgw-multisite'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-radosgw-user'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ranger-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-redis'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-register-application'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-rest'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-s3'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-saml'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-script-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-sdcore-config'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-sdn-plugin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-secrets'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-sentry-metrics'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-service-control'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-service-mesh'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-shards'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-slurmd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-slurmdbd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-slurmrestd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-smtp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-squid-auth-helper'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ssl-termination'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-statistics'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-stun-server'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-swift'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-swift-global-cluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-swift-gw'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-swift-proxy'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-syslog'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-telegraf-exec'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-temporal'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-thruk-agent'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-tls-certificates'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-tokens'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-tracing'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-traefik-route'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-trino-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-ubuntu'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-udldap-userdata'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-untrusted-container-runtime'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-user-group'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-vault-autounseal'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-vault-kv'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-vsd-rest-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-vsphere-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-web-publish'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-websso-fid-service-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-websso-trusted-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-xlc-compiler'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-zookeeper'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['provide-zuul'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['redis'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-aar'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-agent-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-airbyte-server'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-alertmanager-dispatch'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-alertmanager-remote-configuration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-anbox-stream-gateway'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-any'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-apache-vhost-config'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-apache-website'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-arangodb'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-auth-proxy'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-autoscaling'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-aws-iam'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-aws-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-azure-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-barbican-hsm'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-barbican-secrets'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-baremetal'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-bgp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-bind-rndc'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-block-storage'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cassandra'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-catalogue'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceilometer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceph-admin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceph-bootstrap'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceph-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceph-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceph-iscsi-admin-access'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceph-mds'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceph-osd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceph-radosgw'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ceph-rbd-mirror'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-certificate-transfer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cinder'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cinder-backend'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cinder-backup'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cinder-ceph-key'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cinder-gw'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cinder-nedge'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cloudflared-route'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-config-server'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-container-runtime'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-containerd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-containers'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cos-agent'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-cos-k8s-tokens'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-dashboard-plugin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-db'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-db2'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-designate'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-dex-oidc-config'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-dns-record'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-dns-transfer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-docker-registry'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-dockerhost'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-elastic-beats'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-elasticsearch'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-elasticsearch-datastore'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ephemeral-backend'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-etcd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-etcd-proxy'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-event-service'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-external-cloud-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-external-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-fiveg-core-gnb'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-fiveg-n2'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-fluentbit'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-forward-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ftn-compiler'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-gcp-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-generic-ip-port-user-pass'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-giraph'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-glance'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-glance-backend'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-glance-simplestreams-sync'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-glauth-auxiliary'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-gnocchi'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-grafana-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-grafana-cloud-config'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-grafana-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-grafana-datasource'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-grafana-datasource-exchange'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-grafana-metadata'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-grafana-source'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-guacd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-hacluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-haproxy-route'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-haproxy-route-tcp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-heat-plugin-subordinate'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-http'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-http-proxy'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-httpd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-hydra-endpoints'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-influxdb-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-infoblox'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ingress'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ingress-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ingress-per-unit'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-irc-bridge'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-istio-gateway-info'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-java'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-jenkins-agent-v0'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-jenkins-extension'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-jenkins-slave'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-k8s-cluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-k8s-service'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-kafka'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-kafka-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-kapacitor'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-karma-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-keystone'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-keystone-admin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-keystone-credentials'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-keystone-domain-backend'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-keystone-fid-service-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-keystone-middleware'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-keystone-notifications'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-kratos-info'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-kube-control'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-kube-dns'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-kubeflow-dashboard-links'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-kubernetes-cni'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-kubernetes-info'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-landscape-hosted'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ldap'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-livepatch-pro-airgapped-server'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-lldp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-loadbalancer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-local-monitors'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-login-ui-endpoints'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-logs'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-logstash-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-loki-push-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-lte-core'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-lxd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-lxd-bgp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-lxd-dns'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-lxd-https'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-lxd-metrics'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-magma-orchestrator'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-manila-plugin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-matrix-auth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-memcache'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-midonet'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mongodb'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mongodb-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-monitor'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-monitors'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mount'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-munin-node'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mysql'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mysql-async'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mysql-async-replication'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mysql-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mysql-monitor'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mysql-root'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mysql-router'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-mysql-shared'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nats'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nedge'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-neutron-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-neutron-load-balancer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-neutron-plugin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-neutron-plugin-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-neutron-plugin-api-subordinate'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nginx-route'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nova'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nova-ceilometer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nova-cell'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nova-compute'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nova-vgpu'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nova-vmware'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nrpe'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-nrpe-external-master'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ntp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-oathkeeper-info'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-oauth'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-object-storage'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-odl-controller-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-oidc-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-opencti-connector'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-openfga'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-opensearch-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-openstack-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-openstack-loadbalancer'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ovsdb'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ovsdb-cluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ovsdb-cms'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ovsdb-manager'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ovsdb-subordinate'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-pacemaker-remote'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-parca-scrape'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-parca-store'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-peer-cluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-pgsql'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-placement'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-pod-defaults'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-postfix-metrics'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-postgresql-async'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-postgresql-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-prolog-epilog'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-prometheus'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-prometheus-manual'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-prometheus-remote-write'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-prometheus-rules'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-prometheus-scrape'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-public-address'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-quantum'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-rabbitmq'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-radosgw-multisite'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-radosgw-user'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ranger-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-redis'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-register-application'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-rest'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-s3'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-saml'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-script-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-sdcore-config'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-sdn-plugin'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-secrets'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-sentry-metrics'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-service-control'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-service-mesh'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-shards'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-slurmd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-slurmdbd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-slurmrestd'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-smtp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-squid-auth-helper'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ssl-termination'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-statistics'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-stun-server'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-swift'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-swift-global-cluster'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-swift-gw'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-swift-proxy'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-syslog'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-telegraf-exec'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-temporal'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-thruk-agent'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-tls-certificates'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-tokens'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-tracing'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-traefik-route'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-trino-client'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-ubuntu'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-udldap-userdata'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-untrusted-container-runtime'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-user-group'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-vault-autounseal'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-vault-kv'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-vsd-rest-api'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-vsphere-integration'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-web-publish'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-websso-fid-service-provider'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-websso-trusted-dashboard'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-xlc-compiler'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-zookeeper'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['require-zuul'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['saml'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['send-ca-cert'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['smtp'] = 'alpha'
+ .apps['ingress-requirer'].endpoint_bindings['smtp-legacy'] = 'alpha'
+ .apps['self-signed-certificates'].charm = 'self-signed-certificates'
+ .apps['self-signed-certificates'].charm_origin = 'charmhub'
+ .apps['self-signed-certificates'].charm_name = 'self-signed-certificates'
+ .apps['self-signed-certificates'].charm_rev = 263
+ .apps['self-signed-certificates'].exposed = False
+ .apps['self-signed-certificates'].base.name = 'ubuntu'
+ .apps['self-signed-certificates'].base.channel = '24.04'
+ .apps['self-signed-certificates'].charm_channel = '1/stable'
+ .apps['self-signed-certificates'].app_status.current = 'active'
+ .apps['self-signed-certificates'].relations['certificates'][0].related_app = 'haproxy'
+ .apps['self-signed-certificates'].relations['certificates'][0].interface = 'tls-certificates'
+ .apps['self-signed-certificates'].relations['certificates'][0].scope = 'global'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'active'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'idle'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.version = '3.6.11'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].leader = True
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].machine = '2'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].public_address = '10.82.182.115'
+ .apps['self-signed-certificates'].endpoint_bindings[''] = 'alpha'
+ .apps['self-signed-certificates'].endpoint_bindings['certificates'] = 'alpha'
+ .apps['self-signed-certificates'].endpoint_bindings['send-ca-cert'] = 'alpha'
+ .apps['self-signed-certificates'].endpoint_bindings['tracing'] = 'alpha'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['3'].machine_status.current = 'pending'
+ .machines['3'].machine_status.current = 'allocating'
+ .machines['3'].machine_status.message = 'acquiring LXD image'
- .apps['haproxy'].app_status.current = 'maintenance'
- .apps['haproxy'].app_status.message = 'Configuring haproxy.'
+ .apps['haproxy'].app_status.current = 'active'
- .apps['haproxy'].units['haproxy/0'].workload_status.current = 'maintenance'
- .apps['haproxy'].units['haproxy/0'].workload_status.message = 'Configuring haproxy.'
+ .apps['haproxy'].units['haproxy/0'].workload_status.current = 'active'
- .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running certificates-relation-changed hook for self-signed-certificates/0'
+ .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running certificates-relation-changed hook'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .apps['haproxy'].units['haproxy/0'].juju_status.current = 'executing'
- .apps['haproxy'].units['haproxy/0'].juju_status.message = 'running certificates-relation-changed hook'
+ .apps['haproxy'].units['haproxy/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['3'].machine_status.message = 'acquiring LXD image'
+ .machines['3'].machine_status.message = 'Retrieving image: rootfs: 4% (38.99MB/s)'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['3'].machine_status.message = 'Retrieving image: rootfs: 4% (38.99MB/s)'
+ .machines['3'].machine_status.message = 'Retrieving image: rootfs: 27% (75.88MB/s)'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['3'].machine_status.message = 'Retrieving image: rootfs: 27% (75.88MB/s)'
+ .machines['3'].machine_status.message = 'Retrieving image: rootfs: 49% (81.37MB/s)'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['3'].machine_status.message = 'Retrieving image: rootfs: 49% (81.37MB/s)'
+ .machines['3'].machine_status.message = 'Retrieving image: rootfs: 67% (78.03MB/s)'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['3'].machine_status.message = 'Retrieving image: rootfs: 67% (78.03MB/s)'
+ .machines['3'].machine_status.message = 'Retrieving image: rootfs: 89% (79.34MB/s)'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['3'].machine_status.message = 'Retrieving image: rootfs: 89% (79.34MB/s)'
+ .machines['3'].machine_status.message = 'Creating container'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
- .machines['3'].instance_id = 'pending'
- .machines['3'].machine_status.current = 'allocating'
- .machines['3'].machine_status.message = 'Creating container'
- .machines['3'].modification_status.current = 'idle'
+ .machines['3'].instance_id = 'juju-e8478d-3'
+ .machines['3'].machine_status.current = 'running'
+ .machines['3'].machine_status.message = 'Container started'
+ .machines['3'].modification_status.current = 'applied'
+ .machines['3'].hardware = 'arch=amd64 cores=0 mem=0M availability-zone=github-runner virt-type=container'
[32mINFO    [0m jubilant.wait:_juju.py:982 wait: status changed:
+ .machines['3'].dns_name = '10.82.182.95'
+ .machines['3'].ip_addresses[0] = '10.82.182.95'
- .machines['3'].machine_status.message = 'Container started'
+ .machines['3'].machine_status.message = 'Running'
+ .apps['ingress-requirer'].units['ingress-requirer/0'].public_address = '10.82.182.95'